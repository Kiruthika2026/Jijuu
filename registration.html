<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Career Guidance Portal - Register</title>
<link rel="stylesheet" href="auth.css">
</head>
<body>

<div class="overlay" id="authOverlay">
    <div class="popup">
        <h2 id="formTitle">Register</h2>
        <p class="subtitle" id="formSubtitle">Create your career guidance account</p>

        <form id="authForm" onsubmit="event.preventDefault(); submitForm();">
            <div id="registerFields">
                <label>Name</label>
                <input type="text" id="regName" placeholder="Enter full name">
                <div class="popup-message" id="regNamePopup"></div>

                <label>Mobile No.</label>
                <input type="text" id="regMobile" placeholder="Enter mobile number" maxlength="10">
                <div class="popup-message" id="regMobilePopup"></div>

                <label>Email</label>
                <input type="email" id="regEmail" placeholder="Enter email">
                <div class="popup-message" id="regEmailPopup"></div>

                <label>Password</label>
                <div class="password-wrapper">
                    <input type="password" id="regPassword" placeholder="Enter password">
                    <div class="popup-message" id="regPassPopup"></div>
                </div>

                <label>Confirm Password</label>
                <div class="password-wrapper">
                    <input type="password" id="regConfirm" placeholder="Confirm password">
                    <div class="popup-message" id="regConfirmPopup"></div>
                </div>
            </div>

            <button type="submit">Continue</button>
        </form>

        <p class="bottom-text">
            <span>Already have an account?</span>
            <a href="auth.html">Login</a>
        </p>
    </div>
</div>

<script>
function submitForm() {
    document.querySelectorAll(".popup-message").forEach(p => p.innerText = "");

    const name = document.getElementById("regName").value.trim();
    const mobile = document.getElementById("regMobile").value.trim();
    const email = document.getElementById("regEmail").value.trim();
    const password = document.getElementById("regPassword").value.trim();
    const confirm = document.getElementById("regConfirm").value.trim();

    let valid = true;

    if (!name) {
        document.getElementById("regNamePopup").innerText = "Please enter your name!";
        valid = false;
    }
    if (!mobile) {
        document.getElementById("regMobilePopup").innerText = "Please enter mobile number!";
        valid = false;
    } else if (!/^\d{10}$/.test(mobile) || !["6","7","8","9"].includes(mobile[0])) {
        document.getElementById("regMobilePopup").innerText = "Enter 10-digit mobile number!";
        valid = false;
    }
    if (!email) {
        document.getElementById("regEmailPopup").innerText = "Please enter email!";
        valid = false;
    }
    if (!password) {
        document.getElementById("regPassPopup").innerText = "Please enter password!";
        valid = false;
    }
    if (!confirm) {
        document.getElementById("regConfirmPopup").innerText = "Please confirm password!";
        valid = false;
    } else if (password !== confirm) {
        document.getElementById("regConfirmPopup").innerText = "Passwords do not match!";
        valid = false;
    }

    if (!valid) return;

    showSuccess("Registration Successful!", "frontpage.html");
}

function showSuccess(message, redirectUrl) {
    const successPopup = document.createElement("div");
    successPopup.className = "success-popup";
    successPopup.innerText = message;
    document.querySelector(".popup").appendChild(successPopup);

    setTimeout(() => {
        window.location.href = redirectUrl;
    }, 1500);
}
</script>

</body>
</html>
